<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
<title>The Movie Theater — Kiosk</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&display=swap');

  :root{
    --red:#b22222;
    --red-bright:#ff4c4c;
    --dark:#0a0a0a;
    --muted:#999;
    --accent:#ffd64d;
  }

  html,body{
    height:100%;
    margin:0;
    background:var(--dark);
    font-family:"Roboto Slab", serif;
    color:#fff;
  }

  header{
    background: linear-gradient(90deg,var(--red) 0%, #800000 100%);
    padding:22px 18px;
    text-align:center;
    font-size:30px;
    letter-spacing:3px;
    font-weight:700;
    text-transform:uppercase;
    box-shadow: 0 6px 24px rgba(0,0,0,0.6);
  }

  main{
    height: calc(100% - 82px);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:28px;
  }

  section.step{ display:none; width:100%; max-width:920px; align-items:center; justify-content:center; flex-direction:column; gap:28px; padding:12px; }
  section.step.active{ display:flex; animation: fadeIn .32s ease; }
  @keyframes fadeIn { from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)} }

  h1{ margin:0; font-size:32px; text-shadow: 0 0 8px rgba(178,34,34,0.25); text-align:center; }

  .button-grid{ display:flex; gap:20px; align-items:center; justify-content:center; flex-wrap:wrap; }

  button.big-btn{ background:var(--red); border:none; color:#fff; font-size:28px; font-weight:800; padding:20px 44px; border-radius:20px; min-width:130px; cursor:pointer; box-shadow: 0 10px 30px rgba(178,34,34,0.55); transition: transform .12s ease, box-shadow .18s ease, background .12s ease; }
  button.big-btn:hover{ transform: translateY(-4px); background:var(--red-bright); box-shadow: 0 18px 40px rgba(255,76,76,0.18); }
  button.big-btn.selected{ background:var(--red-bright); box-shadow: 0 22px 55px rgba(255,76,76,0.28); }

  /* === Movie tile styling (styled select button) === */
  .movie-tile{
    position: relative;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:14px;
    background: linear-gradient(180deg, rgba(27,5,5,0.6), rgba(17,3,3,0.35));
    padding:18px;
    border-radius:18px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    border: 2px solid rgba(255,255,255,0.02);
    cursor: pointer;
    transition: transform .18s cubic-bezier(.2,.9,.2,1), box-shadow .18s ease, border-color .18s ease;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
    outline: none;
    width: 360px;
    max-width:86vw;
  }

  /* poster */
  .movie-tile img{
    width:100%;
    border-radius:12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    pointer-events:none;
    user-select:none;
    transition: transform .28s ease;
  }

  .movie-title{
    font-size:22px;
    font-weight:900;
    letter-spacing:0.4px;
    text-shadow: 0 0 10px rgba(170,34,34,0.35);
  }

  /* hover - slight lift + poster zoom */
  .movie-tile:hover{
    transform: translateY(-6px);
    box-shadow: 0 22px 60px rgba(0,0,0,0.65);
    border-color: rgba(255,76,76,0.18);
  }
  .movie-tile:hover img{ transform: scale(1.02); }

  /* selected state */
  .movie-tile.selected{
    transform: translateY(-4px) scale(1.01);
    box-shadow: 0 28px 80px rgba(255,20,20,0.22), inset 0 0 40px rgba(255,20,20,0.03);
    border-color: var(--red-bright);
  }

  /* glowing outline around selected tile */
  .movie-tile.selected::after{
    content:'';
    position:absolute;
    inset:-8px;
    border-radius:22px;
    pointer-events:none;
    box-shadow: 0 0 40px rgba(255,76,76,0.55);
    opacity:1;
    transition: opacity .18s ease;
  }

  /* Selected badge (top-right) */
  .movie-tile .badge{
    position:absolute;
    top:12px;
    right:12px;
    background: rgba(0,0,0,0.6);
    color: #fff;
    font-weight:800;
    font-size:13px;
    padding:6px 10px;
    border-radius:999px;
    display:flex;
    gap:8px;
    align-items:center;
    transform: translateY(-2px);
    opacity:0;
    transition: opacity .18s ease, transform .18s ease, background .12s ease;
    backdrop-filter: blur(6px);
  }
  .movie-tile.selected .badge{ opacity:1; transform: translateY(0); background: linear-gradient(90deg, rgba(0,0,0,0.55), rgba(0,0,0,0.35)); }

  /* checkmark circle */
  .movie-tile .badge .check{
    width:18px; height:18px; border-radius:50%; background:var(--accent); color:#111; display:inline-flex; align-items:center; justify-content:center; font-size:13px; font-weight:900;
  }

  /* keyboard focus style */
  .movie-tile:focus{
    outline: 4px solid rgba(255,76,76,0.08);
    outline-offset: 6px;
  }

  /* disable pointer events on internal elements to ensure whole tile clickable on touch */
  .movie-tile *{ pointer-events: none; }

  /* nav row */
  .nav-row{ display:flex; gap:18px; justify-content:center; margin-top:12px; flex-wrap:wrap; }
  button.nav-btn{ background:var(--red); border:none; color:#fff; font-size:18px; font-weight:800; padding:12px 26px; border-radius:16px; cursor:pointer; box-shadow: 0 8px 24px rgba(178,34,34,0.45); }
  button.nav-btn[disabled]{ background:#4b0b0b; color:var(--muted); cursor:not-allowed; box-shadow:none; }

  @media (max-width:520px){
    .movie-tile{ width: 92vw; padding:14px; }
    .movie-title{ font-size:18px; }
    .movie-tile .badge{ font-size:12px; padding:5px 9px; }
    button.big-btn{ font-size:20px; padding:14px 34px; }
  }
</style>
</head>
<body>
  <header>The Movie Theater</header>

  <main>
    <!-- Step 1 -->
    <section id="step1" class="step active" aria-label="Select number of people">
      <h1>Select number of people joining us today</h1>
      <div class="button-grid" role="group" aria-label="Number of people">
        <button class="big-btn" data-people="8" aria-pressed="false">8</button>
        <button class="big-btn" data-people="9" aria-pressed="false">9</button>
      </div>
      <div class="nav-row">
        <button id="next1" class="nav-btn" disabled>Next →</button>
      </div>
    </section>

    <!-- Step 2: movie selection with styled tile -->
    <section id="step2" class="step" aria-label="Choose a movie">
      <h1>Choose a Movie</h1>

      <!-- movie tile is a single large button-like element -->
      <button id="movieTile" class="movie-tile" data-movie="Turning Red" aria-pressed="false" title="Turning Red">
        <img src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQYGcDQZPX0Ghja5A8R0Vk9OT-ewrl6pbh0OPRXl0v38q74pnH9" alt="Turning Red poster">
        <div class="movie-title">Turning Red</div>
        <!-- badge shown only when tile has .selected -->
        <div class="badge" aria-hidden="true"><span class="check">✓</span><span>Selected</span></div>
      </button>

      <div class="nav-row">
        <button id="back2" class="nav-btn">← Back</button>
        <button id="next2" class="nav-btn" disabled>Next →</button>
      </div>
    </section>

    <!-- Step 3 -->
    <section id="step3" class="step" aria-label="Movie details">
      <h1>Turning Red — Details</h1>
      <div style="max-width:900px; width:100%; display:flex; gap:20px; align-items:flex-start; justify-content:center; flex-wrap:wrap;">
        <div style="flex:0 0 320px;">
          <img src="https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQYGcDQZPX0Ghja5A8R0Vk9OT-ewrl6pbh0OPRXl0v38q74pnH9" alt="Turning Red poster large" style="width:100%; border-radius:12px; box-shadow:0 12px 36px rgba(0,0,0,0.6);">
        </div>
        <div style="flex:1 1 360px; background:linear-gradient(180deg, rgba(27,5,5,0.4), rgba(10,0,0,0.2)); padding:18px; border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,0.6);">
          <div style="font-weight:800; font-size:18px; margin-bottom:8px;"><strong>Start:</strong> 7:10 &nbsp;&nbsp; <strong>End:</strong> 8:50</div>
          <div style="color:#f7f7f7; line-height:1.5; font-size:16px;">
            <strong>Description:</strong><br>
            A thirteen-year-old girl named Mei Lee is torn between staying her mother's dutiful daughter and the changes of adolescence. And as if the challenges were not enough, whenever she gets overly excited Mei transforms into a giant red panda.
          </div>
        </div>
      </div>

      <div class="nav-row" style="margin-top:18px;">
        <button id="back3" class="nav-btn">← Back</button>
        <button id="next3" class="nav-btn">Next →</button>
      </div>
    </section>

    <!-- Step 4: Thank you + QR -->
    <section id="step4" class="step" aria-label="Thank you and QR">
      <div style="text-align:center; max-width:720px;">
        <div style="font-size:26px; font-weight:800; margin-bottom:12px;">Thank you for registering!</div>
        <div style="margin-bottom:14px;">Drinks and snacks will be provided.<br> You are on the first floor.</div>

        <div style="margin-top:8px;">
          <div style="font-weight:700; margin-bottom:10px;">Scan this QR code to claim your ticket</div>
          <img src="qr.png" alt="QR code to claim ticket (qr.png)" style="width:260px; max-width:72vw; border-radius:10px; box-shadow:0 10px 40px rgba(178,34,34,0.45);">
        </div>

        <div class="nav-row" style="margin-top:22px;">
          <button id="back4" class="nav-btn">← Back</button>
        </div>
      </div>
    </section>
  </main>

<script>
  // Flow logic (unchanged)
  const steps = ['step1','step2','step3','step4'];
  let selectedPeople = null;
  let selectedMovie = null;

  function showStep(index){
    steps.forEach((id,i)=>{
      document.getElementById(id).classList.toggle('active', i===index);
    });
    const active = document.querySelector('section.step.active');
    if(active){
      const focusable = active.querySelector('button, [tabindex]');
      if(focusable) focusable.focus();
    }
  }

  // Step1: people
  document.querySelectorAll('[data-people]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      document.querySelectorAll('[data-people]').forEach(b=>{ b.classList.remove('selected'); b.setAttribute('aria-pressed','false'); });
      btn.classList.add('selected');
      btn.setAttribute('aria-pressed','true');
      selectedPeople = btn.getAttribute('data-people');
      document.getElementById('next1').disabled = false;
    });
  });
  document.getElementById('next1').addEventListener('click', ()=> { if(selectedPeople) showStep(1); });

  // Step2: movie tile
  const movieTile = document.getElementById('movieTile');
  movieTile.addEventListener('click', ()=>{
    const pressed = movieTile.getAttribute('aria-pressed') === 'true';
    if(pressed){
      movieTile.setAttribute('aria-pressed','false');
      movieTile.classList.remove('selected');
      selectedMovie = null;
      document.getElementById('next2').disabled = true;
    } else {
      movieTile.setAttribute('aria-pressed','true');
      movieTile.classList.add('selected');
      selectedMovie = movieTile.getAttribute('data-movie');
      document.getElementById('next2').disabled = false;
    }
  });
  document.getElementById('back2').addEventListener('click', ()=> showStep(0));
  document.getElementById('next2').addEventListener('click', ()=> { if(selectedMovie) showStep(2); });

  // Step3
  document.getElementById('back3').addEventListener('click', ()=> showStep(1));
  document.getElementById('next3').addEventListener('click', ()=> showStep(3));

  // Step4 back
  document.getElementById('back4').addEventListener('click', ()=> showStep(2));

  // init
  window.addEventListener('load', ()=>{
    document.getElementById('next1').disabled = true;
    document.getElementById('next2').disabled = true;
    showStep(0);
  });

  // Enter key = "click"
  document.addEventListener('keydown', (e)=>{
    if(e.key === "Enter"){
      const f = document.activeElement;
      if(f && f.tagName === 'BUTTON' && !f.disabled) f.click();
    }
  });
</script>
</body>
</html>
